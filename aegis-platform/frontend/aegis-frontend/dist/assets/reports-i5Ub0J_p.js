import{r as c,j as e,a6 as a,E,H as N,J as F,$ as T}from"./react-vendor-B391mDFM.js";import{L as z,B as r,I as A,C as l,a as n,b as d,c as x,d as P,e as v,r as B}from"./assessments-C55yoM68.js";import"./vendor-BAj2-sgi.js";import"./ui-vendor-BA32w1ww.js";import"./utils-vendor-D-EuUvUy.js";function H(){const[o,y]=c.useState(""),[i,h]=c.useState([]),[b,u]=c.useState(!0),[f,j]=c.useState(null);c.useEffect(()=>{(async()=>{try{u(!0);const t=await B.getAll();h(t.items||[]),j(null)}catch(t){j(t.message||"Failed to fetch reports"),console.error("Error fetching reports:",t),h([])}finally{u(!1)}})()},[]);const m=i.filter(s=>{var t,g,w;return((t=s.name)==null?void 0:t.toLowerCase().includes(o.toLowerCase()))||((g=s.type)==null?void 0:g.toLowerCase().includes(o.toLowerCase()))||((w=s.author)==null?void 0:w.toLowerCase().includes(o.toLowerCase()))});if(b)return e.jsx("div",{className:"flex items-center justify-center min-h-96",children:e.jsx(z,{size:"lg"})});const C=s=>{switch(s==null?void 0:s.toLowerCase()){case"published":return"default";case"draft":return"secondary";case"scheduled":return"outline";case"archived":return"outline";default:return"outline"}},R=s=>{switch(s==null?void 0:s.toLowerCase()){case"risk management":return"destructive";case"compliance":return"secondary";case"security":return"default";case"asset management":return"outline";default:return"outline"}},p=()=>{console.log("New Report clicked - Opening report creation dialog"),console.log("New Report functionality would open a dialog to create new reports")},k=()=>{console.log("Schedule Report clicked - Opening report scheduling dialog"),console.log("Schedule Report functionality would open a scheduling dialog for automated reports")},D=()=>{console.log("Filters clicked - Opening filters dialog"),console.log("Filters functionality would open a filters panel for reports")},S=s=>{console.log("Download clicked for report:",s),console.log(`Download functionality would download report ${s} as PDF or Excel`)},L=s=>{console.log("View Details clicked for report:",s),console.log(`View Details functionality would navigate to detailed view for report ${s}`)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[e.jsx(a,{className:"h-8 w-8"}),"Reports & Analytics"]}),e.jsx("p",{className:"text-muted-foreground",children:"Generate and manage compliance and security reports"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(r,{variant:"outline",size:"sm",onClick:k,children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Schedule Report"]}),e.jsxs(r,{onClick:p,children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"New Report"]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(A,{placeholder:"Search reports...",value:o,onChange:s=>y(s.target.value),className:"max-w-sm"})}),e.jsxs(r,{variant:"outline",size:"sm",onClick:D,children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Filters"]})]}),f&&e.jsx(l,{className:"border-destructive",children:e.jsxs(n,{className:"pt-6",children:[e.jsxs("p",{className:"text-destructive",children:["Error: ",f]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Showing demo data while backend is unavailable."})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(l,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(x,{className:"text-sm font-medium",children:"Total Reports"}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Reports in system"})]})]}),e.jsxs(l,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(x,{className:"text-sm font-medium",children:"Published"}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i.filter(s=>s.status==="Published").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Available for download"})]})]}),e.jsxs(l,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(x,{className:"text-sm font-medium",children:"Draft"}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i.filter(s=>s.status==="Draft").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"In progress"})]})]}),e.jsxs(l,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(x,{className:"text-sm font-medium",children:"Report Types"}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:new Set(i.map(s=>s.type)).size}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Different categories"})]})]})]}),e.jsxs(l,{children:[e.jsxs(d,{children:[e.jsxs(x,{children:["Reports (",m.length,")"]}),e.jsx(P,{children:"Security and compliance reports"})]}),e.jsx(n,{children:m.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(a,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No reports found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:o?"Try adjusting your search criteria":"Get started by creating your first report"}),e.jsxs(r,{onClick:p,children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Create Report"]})]}):e.jsx("div",{className:"space-y-4",children:m.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsx(v,{variant:C(s.status),children:s.status||"Unknown"}),e.jsx(v,{variant:R(s.type),children:s.type||"Unknown"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:s.description||"No description available"}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Author: ",s.author||"Unknown"]}),s.created&&e.jsxs("span",{children:["Created: ",new Date(s.created).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(r,{variant:"ghost",size:"sm",onClick:()=>S(s.id),children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Download"]}),e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>L(s.id),children:"View Details"})]})]},s.id))})})]})]})}export{H as default};
