import{r as c,j as e,af as x,ag as N,H as y,K as L,Z as z,ah as T}from"./react-vendor-B391mDFM.js";import{L as E,B as l,I as B,C as n,a as r,b as i,c as o,d as D,e as w,k as H}from"./assessments-CKARqxWC.js";import"./vendor-BAj2-sgi.js";import"./ui-vendor-BA32w1ww.js";import"./utils-vendor-D-EuUvUy.js";function $(){const[d,v]=c.useState(""),[a,h]=c.useState([]),[C,u]=c.useState(!0),[g,f]=c.useState(null);c.useEffect(()=>{(async()=>{try{u(!0);const t=await H.getAll();h(t.items||[]),f(null)}catch(t){f(t.message||"Failed to fetch integrations"),console.error("Error fetching integrations:",t),h([])}finally{u(!1)}})()},[]);const m=a.filter(s=>{var t,p;return((t=s.name)==null?void 0:t.toLowerCase().includes(d.toLowerCase()))||((p=s.type)==null?void 0:p.toLowerCase().includes(d.toLowerCase()))});if(C)return e.jsx("div",{className:"flex items-center justify-center min-h-96",children:e.jsx(E,{size:"lg"})});const b=s=>{switch(s==null?void 0:s.toLowerCase()){case"connected":return"default";case"disconnected":return"destructive";case"error":return"destructive";case"warning":return"secondary";default:return"secondary"}},S=s=>{switch(s==null?void 0:s.toLowerCase()){case"healthy":return"default";case"warning":return"secondary";case"error":return"destructive";default:return"secondary"}},j=()=>{console.log("Add Integration clicked - Opening integration creation dialog"),alert("Add Integration functionality would open a dialog to create new integrations")},k=()=>{console.log("Sync All clicked - Synchronizing all integrations"),alert("Sync All functionality would trigger synchronization for all active integrations")},I=s=>{console.log("Configure clicked for integration:",s),alert(`Configure functionality would open configuration dialog for integration ${s}`)},A=s=>{console.log("Sync clicked for integration:",s),alert(`Sync functionality would trigger synchronization for integration ${s}`)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[e.jsx(x,{className:"h-8 w-8"}),"Integrations"]}),e.jsx("p",{className:"text-muted-foreground",children:"Manage third-party integrations and data sources"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{variant:"outline",size:"sm",onClick:k,children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Sync All"]}),e.jsxs(l,{onClick:j,children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Add Integration"]})]})]}),e.jsx("div",{className:"flex gap-4",children:e.jsx("div",{className:"flex-1",children:e.jsx(B,{placeholder:"Search integrations...",value:d,onChange:s=>v(s.target.value),className:"max-w-sm"})})}),g&&e.jsx(n,{className:"border-destructive",children:e.jsxs(r,{className:"pt-6",children:[e.jsxs("p",{className:"text-destructive",children:["Error: ",g]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Showing example data while backend is unavailable."})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(n,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Total Integrations"}),e.jsx(x,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Configured integrations"})]})]}),e.jsxs(n,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Connected"}),e.jsx(L,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.filter(s=>s.status==="Connected").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active connections"})]})]}),e.jsxs(n,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Issues"}),e.jsx(z,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.filter(s=>s.status==="Disconnected"||s.health==="Error").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Need attention"})]})]}),e.jsxs(n,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Types"}),e.jsx(x,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold",children:new Set(a.map(s=>s.type)).size}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Integration types"})]})]})]}),e.jsxs(n,{children:[e.jsxs(i,{children:[e.jsxs(o,{children:["Integrations (",m.length,")"]}),e.jsx(D,{children:"Third-party systems and data sources connected to the platform"})]}),e.jsx(r,{children:m.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(x,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No integrations found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:d?"Try adjusting your search criteria":"Get started by adding your first integration"}),e.jsxs(l,{onClick:j,children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Add Integration"]})]}):e.jsx("div",{className:"space-y-4",children:m.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsx(w,{variant:b(s.status),children:s.status||"Unknown"}),e.jsx(w,{variant:S(s.health),children:s.health||"Unknown"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:s.type||"No type specified"}),e.jsx("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:e.jsxs("span",{children:["Last Sync: ",s.last_sync?new Date(s.last_sync).toLocaleString():"Never"]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(l,{variant:"ghost",size:"sm",onClick:()=>I(s.id),children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Configure"]}),e.jsxs(l,{variant:"ghost",size:"sm",onClick:()=>A(s.id),children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Sync"]})]})]},s.id))})})]})]})}export{$ as default};
